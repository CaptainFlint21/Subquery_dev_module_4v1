"use strict";
// Copyright 2020-2021 OnFinality Limited authors & contributors
// SPDX-License-Identifier: Apache-2.0
Object.defineProperty(exports, "__esModule", { value: true });
const http_1 = require("http");
const utils_1 = require("./utils");
describe('Utility', () => {
    describe('findAvailablePorts', () => {
        const port = 1337;
        it('unbound port with large range', async () => {
            expect(await (0, utils_1.findAvailablePort)(port)).toEqual(port);
        });
        it('bound port single', async () => {
            const server = (0, http_1.createServer)();
            server.listen(port);
            expect(await (0, utils_1.findAvailablePort)(port, 0)).toEqual(null);
            server.close();
        });
        it('bound port range partial', async () => {
            const server = (0, http_1.createServer)();
            server.listen(port);
            expect(await (0, utils_1.findAvailablePort)(1337, 1)).toEqual(port + 1);
            server.close();
        });
    });
});
//# sourceMappingURL=utils.spec.js.map